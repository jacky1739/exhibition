(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62b04c04"],{"2de3":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=a("7a23"),c={class:"container"},i=Object(n["h"])("div",{class:"d-flex justify-content-end mt-4"},null,-1),l={class:"table"},o=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{width:"120"}," 姓名 "),Object(n["h"])("th",null,"地址"),Object(n["h"])("th",{width:"120"}," 訂單ID "),Object(n["h"])("th",{width:"120"}," 金額 "),Object(n["h"])("th",{width:"100"}," 是否啟用 "),Object(n["h"])("th",{width:"120"}," 編輯 ")])],-1),d={class:"align-middle"},r={class:"align-middle"},s={class:"align-middle"},b={class:"align-middle"},u={class:"align-middle"},h={key:0,class:"text-success"},O={key:1},j={class:"align-middle"},p={class:"btn-group"};function g(t,e,a,g,m,f){var v=Object(n["y"])("Loading"),y=Object(n["y"])("Pagiantion"),k=Object(n["y"])("AdminModal");return Object(n["t"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(v,{isLoading:m.Loading},null,8,["isLoading"]),Object(n["h"])("div",c,[i,Object(n["h"])("table",l,[o,Object(n["h"])("tbody",null,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(m.orders.orders,(function(t){return Object(n["t"])(),Object(n["d"])("tr",{key:t},[Object(n["h"])("td",d,Object(n["B"])(t.user.name),1),Object(n["h"])("td",r,Object(n["B"])(t.user.address),1),Object(n["h"])("td",s,Object(n["B"])(t.id),1),Object(n["h"])("td",b,Object(n["B"])(t.total),1),Object(n["h"])("td",u,[t.is_paid?(Object(n["t"])(),Object(n["d"])("span",h,"已付款")):(Object(n["t"])(),Object(n["d"])("span",O,"未付款"))]),Object(n["h"])("td",j,[Object(n["h"])("div",p,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return f.openModal(t)}}," 詳情 ",8,["onClick"]),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return f.deleteOrder(t.id)}}," 刪除 ",8,["onClick"])])])])})),128))])]),Object(n["h"])(y,{pages:m.pagination,onGetProduct:f.getOrders},null,8,["pages","onGetProduct"]),Object(n["h"])(k,{ref:"productModal",orderdetail:m.tempProduct},null,8,["orderdetail"])])],64)}a("99af"),a("ac1f"),a("5319");var m={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},f={class:"modal-dialog modal-xl",role:"document"},v={class:"modal-content border-0"},y=Object(n["h"])("div",{class:"modal-header bg-dark text-white"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"}),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),k={class:"modal-body"},w={class:"row"},x={class:"border-bottom"},M=Object(n["h"])("h2",null,"品項",-1),B=Object(n["h"])("h2",null,"分類",-1),P=Object(n["h"])("h2",null,"售價",-1),$=Object(n["h"])("h2",null,"數量",-1),C=Object(n["h"])("h2",null,"總計",-1),L=Object(n["h"])("div",{class:"modal-footer"},[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 確認 ")],-1);function _(t,e,a,c,i,l){return Object(n["t"])(),Object(n["d"])("div",m,[Object(n["h"])("div",f,[Object(n["h"])("div",v,[y,Object(n["h"])("div",k,[Object(n["h"])("div",w,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(i.detail,(function(t){return Object(n["t"])(),Object(n["d"])("div",{class:"col-sm-8",key:t},[Object(n["h"])("div",x,[M,Object(n["h"])("p",null,Object(n["B"])(t.product.title),1),B,Object(n["h"])("p",null,Object(n["B"])(t.product.category),1),P,Object(n["h"])("p",null,Object(n["B"])(t.product.price),1),$,Object(n["h"])("p",null,Object(n["B"])(t.qty),1),C,Object(n["h"])("p",null,Object(n["B"])(t.final_total),1)])])})),128))])]),L])])],512)}var J=a("e0ae"),A={props:["orderdetail"],data:function(){return{detail:[]}},watch:{orderdetail:function(){this.detail=this.orderdetail.products}},mixins:[J["a"]]};A.render=_;var G=A,N={"aria-label":"Page navigation example"},q={class:"pagination d-flex justify-content-center"},z=Object(n["h"])("span",{"aria-hidden":"true"},"«",-1),D=Object(n["h"])("span",{"aria-hidden":"true"},"»",-1);function F(t,e,a,c,i,l){return Object(n["t"])(),Object(n["d"])("nav",N,[Object(n["h"])("ul",q,[Object(n["h"])("li",{class:["page-item",{disabled:!i.pagination.has_pre}]},[Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",style:{color:"black"},onClick:e[1]||(e[1]=Object(n["J"])((function(e){return t.$emit("get-product",i.pagination.current_page-1)}),["prevent"]))},[z])],2),(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(i.pagination.total_pages,(function(e){return Object(n["t"])(),Object(n["d"])("li",{class:"page-item",key:e},[Object(n["h"])("a",{class:"page-link",href:"#",style:{color:"black"},onClick:Object(n["J"])((function(a){return t.$emit("get-product",e)}),["prevent"])},Object(n["B"])(e),9,["onClick"])])})),128)),Object(n["h"])("li",{class:["page-item",{disabled:!i.pagination.has_next}]},[Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Next",style:{color:"black"},onClick:e[2]||(e[2]=Object(n["J"])((function(e){return t.$emit("get-product",i.pagination.current_page+1)}),["prevent"]))},[D])],2)])])}var I={props:["pages"],data:function(){return{pagination:{}}},watch:{pages:function(){this.pagination=this.pages}}};I.render=F;var S=I,T={components:{AdminModal:G,Pagiantion:S},data:function(){return{orders:[],pagination:{},tempProduct:{},isNew:!1,Loading:!1,status:{fileUploading:!1},modal:{editModal:"",delModal:""}}},methods:{getOrders:function(t){var e=this;this.Loading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){t.data.success&&(e.orders=t.data,e.totalPages=t.data.pagination.total_pages,e.pagination=t.data.pagination,e.Loading=!1)})).catch((function(t){alert(t.message)}))},openModal:function(t){this.$refs.productModal.openModal(),this.tempProduct=t},deleteOrder:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/admin/order/").concat(t);this.$http.delete(a).then((function(t){e.getOrders(e.pagination.current_page)})).catch((function(t){alert(t.message)}))}},mounted:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.getOrders()}};T.render=g;e["default"]=T},b0c0:function(t,e,a){var n=a("83ab"),c=a("9bf2").f,i=Function.prototype,l=i.toString,o=/^\s*function ([^ (]*)/,d="name";n&&!(d in i)&&c(i,d,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-62b04c04.2ff5c05c.js.map