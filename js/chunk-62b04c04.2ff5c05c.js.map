{"version":3,"sources":["webpack:///./src/views/Admin/Admin.vue","webpack:///./src/components/AdminModal.vue","webpack:///./src/components/AdminModal.vue?ebff","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/Admin/Admin.vue?94c5","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","isLoading","Loading","orders","item","key","user","name","address","id","total","is_paid","type","openModal","deleteOrder","pages","pagination","getOrders","ref","orderdetail","tempProduct","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","detail","product","title","category","price","qty","final_total","props","data","watch","this","products","mixins","modalMixin","render","has_pre","href","style","$emit","current_page","total_pages","page","has_next","components","AdminModal","Pagiantion","isNew","status","fileUploading","modal","editModal","delModal","methods","url","$http","get","then","res","success","totalPages","catch","err","alert","message","$refs","productModal","delete","mounted","token","document","cookie","replace","defaults","headers","common","Authorization","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-62b04c04.2ff5c05c.js","sourcesContent":["<template>\r\n  <Loading :isLoading=\"Loading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"d-flex justify-content-end mt-4\">\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"120\">\r\n            姓名\r\n          </th>\r\n          <th>地址</th>\r\n          <th width=\"120\">\r\n            訂單ID\r\n          </th>\r\n          <th width=\"120\">\r\n            金額\r\n          </th>\r\n          <th width=\"100\">\r\n            是否啟用\r\n          </th>\r\n          <th width=\"120\">\r\n            編輯\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in orders.orders\" :key=\"item\">\r\n         <td class=\"align-middle\">{{ item.user.name }}</td>\r\n         <td class=\"align-middle\">{{ item.user.address }}</td>\r\n         <td class=\"align-middle\">{{ item.id }}</td>\r\n         <td class=\"align-middle\">{{ item.total }}</td>\r\n         <td class=\"align-middle\">\r\n          <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\r\n          <span v-else>未付款</span>\r\n         </td>\r\n         <td class=\"align-middle\">\r\n           <div class=\"btn-group\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" @click=\"openModal(item)\">\r\n              詳情\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"deleteOrder(item.id)\">\r\n              刪除\r\n            </button>\r\n          </div>\r\n         </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- ProductModal -->\r\n    <Pagiantion :pages=\"pagination\" @get-product=\"getOrders\" />\r\n    <AdminModal ref=\"productModal\" :orderdetail=\"tempProduct\"></AdminModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdminModal from '@/components/AdminModal.vue'\r\nimport Pagiantion from '@/components/Pagination.vue'\r\n\r\nexport default {\r\n  components: {\r\n    AdminModal, Pagiantion\r\n  },\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      Loading: false,\r\n      status: {\r\n        fileUploading: false\r\n      },\r\n      modal: {\r\n        editModal: '',\r\n        delModal: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page) {\r\n      this.Loading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(url).then((res) => {\r\n        if (res.data.success) {\r\n          this.orders = res.data\r\n          this.totalPages = res.data.pagination.total_pages\r\n          this.pagination = res.data.pagination\r\n          // console.log(this.orders)\r\n          this.Loading = false\r\n        }\r\n      }).catch(err => {\r\n        alert(err.message)\r\n      })\r\n    },\r\n    openModal (item) {\r\n      this.$refs.productModal.openModal()\r\n      this.tempProduct = item\r\n      // console.log(this.tempProduct)\r\n    },\r\n    deleteOrder (id) {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.$http.delete(url).then(res => {\r\n        this.getOrders(this.pagination.current_page)\r\n      }).catch(err => {\r\n        alert(err.message)\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n    this.$http.defaults.headers.common.Authorization = token\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"productModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-8\" v-for=\"item in detail\" :key=\"item\">\r\n              <div class=\"border-bottom\">\r\n                <h2>品項</h2>\r\n                <p>{{ item.product.title }}</p>\r\n                <h2>分類</h2>\r\n                <p>{{ item.product.category }}</p>\r\n                <h2>售價</h2>\r\n                <p>{{ item.product.price }}</p>\r\n                <h2>數量</h2>\r\n                <p>{{ item.qty }}</p>\r\n                <h2>總計</h2>\r\n                <p>{{ item.final_total }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  props: ['orderdetail'],\r\n  data () {\r\n    return {\r\n      detail: []\r\n    }\r\n  },\r\n  watch: {\r\n    orderdetail () {\r\n      this.detail = this.orderdetail.products\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./AdminModal.vue?vue&type=template&id=57815970\"\nimport script from \"./AdminModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination d-flex justify-content-center\">\r\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_pre }\">\r\n      <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" style=\"color: black;\" @click.prevent=\"$emit('get-product', pagination.current_page - 1)\">\r\n        <span aria-hidden=\"true\">&laquo;</span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" v-for=\"page in pagination.total_pages\" :key=\"page\" >\r\n        <a class=\"page-link\" href=\"#\" style=\"color: black;\" @click.prevent=\"$emit('get-product', page)\">{{ page }}</a>\r\n    </li>\r\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_next}\">\r\n      <a class=\"page-link\" href=\"#\" aria-label=\"Next\" style=\"color: black;\" @click.prevent=\"$emit('get-product', pagination.current_page + 1)\">\r\n        <span aria-hidden=\"true\">&raquo;</span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  data () {\r\n    return {\r\n      pagination: {}\r\n    }\r\n  },\r\n  watch: {\r\n    pages () {\r\n      this.pagination = this.pages\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=163e8cda\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Admin.vue?vue&type=template&id=60b9e0df\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}